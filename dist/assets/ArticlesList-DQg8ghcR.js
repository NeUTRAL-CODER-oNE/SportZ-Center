import{r as o,A as w,c as _,b as D,a as M,d as $,e as B,j as e,f as n,q as N,L as U}from"./index-BekuKahj.js";function H({title:s,titleId:a,...l},c){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},l),s?o.createElement("title",{id:a},s):null,o.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const O=o.forwardRef(H),S=O,P="/assets/sport-news-DGdTW4d7.png",q=async s=>{const a=localStorage.getItem("authToken")??"";try{s({type:"FETCH_SPORTS_REQUEST"});const c=await(await fetch(`${w}/sports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();s({type:"FETCH_SPORTS_SUCCESS",payload:c.sports})}catch(l){console.log("Error fetching sports:",l),s({type:"FETCH_SPORTS_FAILURE",payload:"Unable to load sports"})}},G=async s=>{const a=localStorage.getItem("authToken")??"";try{s({type:"FETCH_TEAMS_REQUEST"});const c=await(await fetch(`${w}/teams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();s({type:"FETCH_TEAMS_SUCCESS",payload:c})}catch(l){console.log("Error fetching teams:",l),s({type:"FETCH_TEAMS_FAILURE",payload:"Unable to load teams"})}},Q=()=>{const s=_(),{articles:a,isLoading:l,isError:c,errorMessage:E}=s,T=D(),{sports:x,isLoading:C,isError:z,errorMessage:A}=T,L=M(),{teams:m,isLoading:F,isError:I,errorMessage:R}=L,p=$(),f=B(),[r,u]=o.useState([]),[i,g]=o.useState([]),y=t=>{u(t?[t]:[]),g([])},j=t=>{g([t])};if(o.useEffect(()=>{q(p),G(f)},[p,f]),o.useEffect(()=>{const t=localStorage.getItem("userData");if(t){const h=JSON.parse(t),{preferences:d}=h;d.sports&&d.sports.length>0&&u(d.sports),d.teams&&d.teams.length>0&&g(d.teams)}},[]),l||C||F)return e.jsx("div",{children:"Loading..."});if(c||z||I)return e.jsx("div",{className:"max-w-screen-xl mx-auto",children:E||A||R});if(!a||a.length===0||!x||x.length===0||!m||m.length===0)return e.jsx("div",{children:"No data found."});const b=r.length?a.filter(t=>r.includes(t.sport.name)):a;let v=b;i.length&&(v=b.filter(t=>t.teams.some(h=>i.includes(h.name))));const k=v;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-screen-1xl mx-auto p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex-shrink-0 ",children:e.jsx("img",{className:"h-10",src:P,alt:"Article"})}),e.jsx("h1",{className:"font-bold text-4xl p-2",children:"Trending News"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(n,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs(n.Button,{className:"inline-flex justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold font-mono text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-slate-900 dark:text-zinc-300",children:["Sort By: Sport",e.jsx(S,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),e.jsx(N,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(n.Items,{className:"absolute right-0 z-10 mt-2 w-52 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-gray-900 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"py-1 font-mono font-bold",children:[e.jsx(n.Item,{children:e.jsx("button",{className:`block w-full text-left px-4 py-2 text-sm ${r.length===0?"bg-gray-200 text-gray-900 dark:text-zinc-50":"text-zinc-500"} dark:bg-slate-900 dark:hover:bg-slate-800`,onClick:()=>y(""),children:"All Sports"})}),x.map(t=>e.jsx(n.Item,{children:e.jsx("button",{className:`block w-full text-left px-4 py-2 text-sm ${r.includes(t.name)?"bg-gray-200 text-gray-900 dark:text-zinc-50":"text-zinc-500"} dark:bg-slate-900 dark:hover:bg-slate-800`,onClick:()=>y(t.name),children:t.name})},t.id))]})})})]}),e.jsxs(n,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs(n.Button,{className:"inline-flex justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold font-mono text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-slate-900 dark:text-zinc-300",children:["Sort By: Team",e.jsx(S,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),e.jsx(N,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-induration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(n.Items,{className:"absolute right-0 z-10 mt-2 w-52 origin-top-right  rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-gray-900 max-h-96 overflow-y-auto",children:e.jsx("div",{className:"py-1 font-mono font-bold",children:r.length?m.filter(t=>t.plays===r[0]).map(t=>e.jsx(n.Item,{children:e.jsx("button",{className:`block w-full text-left px-4 py-2 text-sm ${i.includes(t.name)?"bg-gray-200 text-gray-900 dark:text-zinc-50":"text-zinc-500"} dark:bg-slate-900 dark:hover:bg-slate-800`,onClick:()=>j(t.name),children:t.name})},t.id)):m.map(t=>e.jsx(n.Item,{children:e.jsx("button",{className:`block w-full text-left px-4 py-2 text-sm ${i.includes(t.name)?"bg-gray-200 text-gray-900 dark:text-zinc-50":"text-zinc-500"} dark:bg-slate-900 dark:hover:bg-slate-800 hover:bg-gray-200`,onClick:()=>j(t.name),children:t.name})},t.id))})})})]})]})]}),k.length===0?e.jsx("div",{className:"text-center text-black font-mono font-bold text-xl dark:text-zinc-500 p-48",children:i.length>0&&r.length>0?e.jsxs("span",{children:["No articles available for selected teams:"," ",e.jsx("span",{className:"text-red-500",children:i.join(", ")})," ","and selected sports:"," ",e.jsx("span",{className:"text-red-500",children:r.join(", ")})]}):i.length>0?e.jsxs("span",{children:["No articles available for selected teams:"," ",e.jsx("span",{className:"text-red-500",children:i.join(", ")})]}):r.length>0?e.jsxs("span",{children:["No articles available for selected sport:"," ",e.jsx("span",{className:"text-red-500",children:r.join(", ")})]}):"No articles available"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:grid-cols-2 gap-10",children:k.map(t=>e.jsxs("div",{className:"relative overflow-hidden rounded-xl dark:bg-slate-900 bg-slate-100",children:[e.jsx("div",{className:"image-container",children:e.jsx("img",{className:"w-full h-44 object-cover rounded-lg",src:t.thumbnail,alt:t.title})}),e.jsxs("div",{className:"flex flex-col justify-between p-4 leading-normal h-full",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-mono text-md font-normal text-gray-900 dark:text-zinc-50",children:t.sport.name}),e.jsx("p",{className:"font-mono text-md font-normal opacity-75 text-black dark:text-zinc-50",children:new Date(t.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),e.jsx("h4",{className:"mb-2 text-l font-bold text-justify tracking-tight text-gray-900 dark:text-zinc-50",children:t.title}),e.jsx("p",{className:"mb-3 font-normal text-justify text-gray-700 dark:text-gray-300",children:t.summary})]}),e.jsx("div",{style:{paddingTop:"2em"},children:e.jsx(U,{to:`/article/${t.id}`,className:"absolute bottom-0 left-0 w-full text-center font-mono dark:text-zinc-50 text-white px-4 py-2 rounded-md bg-gray-700 hover:bg-gray-800",children:"Read More..."},t.id)})]})]},t.id))})]})})},W=()=>e.jsx(Q,{});export{W as default};
